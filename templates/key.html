{% extends 'base.html' %}
{% block navigation %}{% endblock %}

{% block content %}
<div class="main-container">
    <div class="key-container">
        <h2 class="card__title">Key Management</h2>
        <p class="card__subtitle">Upload your key file or generate a new one</p>
        
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form action="{{ url_for('get_key') }}" method="post" enctype="multipart/form-data" class="key-form">
            <div class="form-group">
                <label for="key" class="form-label">Select your key file</label>
                <div class="file-input__wrapper">
                    <input type="file" class="file-input__native" name="key" id="key" required>
                    <label for="key" class="file-input__label">
                        <span class="icon">ğŸ“</span>
                        <span>Click to browse or drag and drop your key file</span>
                        <div class="text-sm text-muted mt-1">.key files only</div>
                    </label>
                </div>
            </div>

            <div class="key-actions">
                <button type="submit" class="btn btn--primary">Start Forting</button>
                <a href="{{ url_for('generate_key') }}" class="btn btn--link">
                    <span class="icon">ğŸ”‘</span> Generate New Key
                </a>
            </div>
        </form>
    </div>
</div>

<footer class="footer">
    <p> 2024 FortFile - Your secure file encryption solution</p>
</footer>
{% endblock %}

{% block download %}{% endblock %}